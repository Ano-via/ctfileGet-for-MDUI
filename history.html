<html>
	<head>
		<meta name="description" content="解析城通网盘直连地址">
		<link rel="canonical" href="https://ctfile.qinlili.bid/">
		<meta charset="UTF-8">
		<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
		<link rel="manifest" href="./manifest.json">
		<meta name="theme-color" content="#FFFFFF">
		<link rel="icon" href="./icon.png">
	</head>

	<body>


		<div id="records">

		</div>
		<br>






		<script>
			const setBlank = () => {
						            document.querySelector("#records").innerHTML =
						                `<div class="mdc-card mdc-card--outlined" style="text-align:center;padding:20px">
						                    暂无记录    
						                </div>`
						        }
						        const clearAll = () => {
						            const dialog = new window.mdc.dialog.MDCDialog(document.querySelector('.mdc-dialog'));
						            dialog.open()
						        }
						        const clearAllConfirm = () => {
						            localStorage.removeItem("store")
						            setBlank()
						        }
						        const writeClipboard = async (element) => {
						            const link = element.parentElement.dataset.link;
						            const password = element.parentElement.dataset.pw;
						            await navigator.clipboard.writeText(`${link}密码: ${password}`);
						            element.querySelector('.mdc-button__label').innerText = '已复制';
						        }
						        const store = localStorage.getItem("store")
						        const records = JSON.parse(store)
						        const $records = document.querySelector("#records")
						        if (store && Array.isArray(records) && records.length > 0) {
						            records.forEach(r => {
						                $records.insertAdjacentHTML("beforeend",
						                    `<div class="mdc-card mdc-card--outlined" data-link="${r.link}" data-pw="${r.password}">
						                        <h6 class="card-title">
						                            <span>${r.name}</span>
						                            <span>${r.size}</span>
						                        </h6>
						                        <div>原始链接: ${r.link}</div>
						                        <div>密码: ${r.password}</div>
						                        <div>发布时间: ${r.time}</div>
						                        <div>查询时间: ${r.queryTime}</div>
						                        <button onclick="writeClipboard(this)" class="mdc-button foo-button">
						                            <div class="mdc-button__ripple"></div>
						                            <span class="mdc-button__label">复制</span>
						                        </button>
						                    </div>`)
						            })
						        } else {
						            setBlank()
						        }
		</script>
		<script>
			window.mdc.autoInit();
						        document.querySelectorAll('.foo-button').forEach(element => {
						            mdc.ripple.MDCRipple.attachTo(element);
						        });
		</script>


	</body>
</html>